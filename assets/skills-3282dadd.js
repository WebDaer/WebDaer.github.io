import{r as f,R as q,a as D,j as N}from"./index-bcc044b7.js";import{s as L,i as he,e as Gt,p as de,a as F,c as H,b as me,m as fe,f as U,d as P,g as st,h as pe,j as v,k as _,l as ge,n as ye,o as $t,q as zt,r as xe,t as K,v as ve,F as Ht,w as O,P as _t,x as Wt,y as Pe,z as at,A as Te,L as Xt,S as Se,B as Y,C as De,D as lt,E as Yt,G as qt,H as Ee,I as Re,J as Le,K as ke,M as Z,N as b,O as V,Q as W,R as ct,T as Ce,U as we,V as je,W as G,X as J,Y as ut,Z as Be,_ as be,$ as Ve,a0 as Ae,a1 as Me,a2 as Kt,a3 as Ne,u as Ie}from"./create-visual-element-ec8328dd.js";const ht=(t,e)=>Math.abs(t-e);function Fe(t,e){const i=ht(t.x,e.x),n=ht(t.y,e.y);return Math.sqrt(i**2+n**2)}class Zt{constructor(e,i,{transformPagePoint:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const a=tt(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,h=Fe(a.offset,{x:0,y:0})>=3;if(!c&&!h)return;const{point:d}=a,{timestamp:m}=U;this.history.push({...d,timestamp:m});const{onStart:g,onMove:p}=this.handlers;c||(g&&g(this.lastMoveEvent,a),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,a)},this.handlePointerMove=(a,c)=>{this.lastMoveEvent=a,this.lastMoveEventInfo=Q(c,this.transformPagePoint),L.update(this.updatePoint,!0)},this.handlePointerUp=(a,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:d}=this.handlers,m=tt(a.type==="pointercancel"?this.lastMoveEventInfo:Q(c,this.transformPagePoint),this.history);this.startEvent&&h&&h(a,m),d&&d(a,m)},!he(e))return;this.handlers=i,this.transformPagePoint=n;const l=Gt(e),u=Q(l,this.transformPagePoint),{point:s}=u,{timestamp:r}=U;this.history=[{...s,timestamp:r}];const{onSessionStart:o}=i;o&&o(e,tt(u,this.history)),this.removeListeners=de(F(window,"pointermove",this.handlePointerMove),F(window,"pointerup",this.handlePointerUp),F(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),H.update(this.updatePoint)}}function Q(t,e){return e?{point:e(t.point)}:t}function dt(t,e){return{x:t.x-e.x,y:t.y-e.y}}function tt({point:t},e){return{point:t,delta:dt(t,Jt(e)),offset:dt(t,Ue(e)),velocity:Oe(e,.1)}}function Ue(t){return t[0]}function Jt(t){return t[t.length-1]}function Oe(t,e){if(t.length<2)return{x:0,y:0};let i=t.length-1,n=null;const l=Jt(t);for(;i>=0&&(n=t[i],!(l.timestamp-n.timestamp>me(e)));)i--;if(!n)return{x:0,y:0};const u=fe(l.timestamp-n.timestamp);if(u===0)return{x:0,y:0};const s={x:(l.x-n.x)/u,y:(l.y-n.y)/u};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function E(t){return t.max-t.min}function nt(t,e=0,i=.01){return Math.abs(t-e)<=i}function mt(t,e,i,n=.5){t.origin=n,t.originPoint=P(e.min,e.max,t.origin),t.scale=E(i)/E(e),(nt(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=P(i.min,i.max,t.origin)-t.originPoint,(nt(t.translate)||isNaN(t.translate))&&(t.translate=0)}function $(t,e,i,n){mt(t.x,e.x,i.x,n?n.originX:void 0),mt(t.y,e.y,i.y,n?n.originY:void 0)}function ft(t,e,i){t.min=i.min+e.min,t.max=t.min+E(e)}function Ge(t,e,i){ft(t.x,e.x,i.x),ft(t.y,e.y,i.y)}function pt(t,e,i){t.min=e.min-i.min,t.max=t.min+E(e)}function z(t,e,i){pt(t.x,e.x,i.x),pt(t.y,e.y,i.y)}function $e(t,{min:e,max:i},n){return e!==void 0&&t<e?t=n?P(e,t,n.min):Math.max(t,e):i!==void 0&&t>i&&(t=n?P(i,t,n.max):Math.min(t,i)),t}function gt(t,e,i){return{min:e!==void 0?t.min+e:void 0,max:i!==void 0?t.max+i-(t.max-t.min):void 0}}function ze(t,{top:e,left:i,bottom:n,right:l}){return{x:gt(t.x,i,l),y:gt(t.y,e,n)}}function yt(t,e){let i=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([i,n]=[n,i]),{min:i,max:n}}function He(t,e){return{x:yt(t.x,e.x),y:yt(t.y,e.y)}}function _e(t,e){let i=.5;const n=E(t),l=E(e);return l>n?i=st(e.min,e.max-n,t.min):n>l&&(i=st(t.min,t.max-l,e.min)),pe(0,1,i)}function We(t,e){const i={};return e.min!==void 0&&(i.min=e.min-t.min),e.max!==void 0&&(i.max=e.max-t.min),i}const ot=.35;function Xe(t=ot){return t===!1?t=0:t===!0&&(t=ot),{x:xt(t,"left","right"),y:xt(t,"top","bottom")}}function xt(t,e,i){return{min:vt(t,e),max:vt(t,i)}}function vt(t,e){return typeof t=="number"?t:t[e]||0}function k(t){return[t("x"),t("y")]}const Ye=new WeakMap;class qe{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=v(),this.visualElement=e}start(e,{snapToCursor:i=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const l=o=>{this.stopAnimation(),i&&this.snapToCursor(Gt(o,"page").point)},u=(o,a)=>{const{drag:c,dragPropagation:h,onDragStart:d}=this.getProps();if(c&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=xe(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),k(g=>{let p=this.getAxisMotionValue(g).get()||0;if(K.test(p)){const{projection:T}=this.visualElement;if(T&&T.layout){const S=T.layout.layoutBox[g];S&&(p=E(S)*(parseFloat(p)/100))}}this.originPoint[g]=p}),d&&L.update(()=>d(o,a));const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(o,a)=>{const{dragPropagation:c,dragDirectionLock:h,onDirectionLock:d,onDrag:m}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:g}=a;if(h&&this.currentDirection===null){this.currentDirection=Ke(g),this.currentDirection!==null&&d&&d(this.currentDirection);return}this.updateAxis("x",a.point,g),this.updateAxis("y",a.point,g),this.visualElement.render(),m&&m(o,a)},r=(o,a)=>this.stop(o,a);this.panSession=new Zt(e,{onSessionStart:l,onStart:u,onMove:s,onSessionEnd:r},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,i){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&L.update(()=>u(e,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:i}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(e,i,n){const{drag:l}=this.getProps();if(!n||!X(e,l,this.currentDirection))return;const u=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=$e(s,this.constraints[e],this.elastic[e])),u.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:i}=this.getProps(),{layout:n}=this.visualElement.projection||{},l=this.constraints;e&&_(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=ze(n.layoutBox,e):this.constraints=!1,this.elastic=Xe(i),l!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&k(u=>{this.getAxisMotionValue(u)&&(this.constraints[u]=We(n.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:i}=this.getProps();if(!e||!_(e))return!1;const n=e.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=ge(n,l.root,this.visualElement.getTransformPagePoint());let s=He(l.layout.layoutBox,u);if(i){const r=i(ye(s));this.hasMutatedConstraints=!!r,r&&(s=ve(r))}return s}startAnimation(e){const{drag:i,dragMomentum:n,dragElastic:l,dragTransition:u,dragSnapToOrigin:s,onDragTransitionEnd:r}=this.getProps(),o=this.constraints||{},a=k(c=>{if(!X(c,i,this.currentDirection))return;let h=o&&o[c]||{};s&&(h={min:0,max:0});const d=l?200:1e6,m=l?40:1e7,g={type:"inertia",velocity:n?e[c]:0,bounceStiffness:d,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...u,...h};return this.startAxisValueAnimation(c,g)});return Promise.all(a).then(r)}startAxisValueAnimation(e,i){const n=this.getAxisMotionValue(e);return n.start($t(e,n,0,i))}stopAnimation(){k(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const i="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),l=n[i];return l||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){k(i=>{const{drag:n}=this.getProps();if(!X(i,n,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(i);if(l&&l.layout){const{min:s,max:r}=l.layout.layoutBox[i];u.set(e[i]-P(s,r,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:i}=this.getProps(),{projection:n}=this.visualElement;if(!_(i)||!n||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};k(s=>{const r=this.getAxisMotionValue(s);if(r){const o=r.get();l[s]=_e({min:o,max:o},this.constraints[s])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),k(s=>{if(!X(s,e,null))return;const r=this.getAxisMotionValue(s),{min:o,max:a}=this.constraints[s];r.set(P(o,a,l[s]))})}addListeners(){if(!this.visualElement.current)return;Ye.set(this.visualElement,this);const e=this.visualElement.current,i=F(e,"pointerdown",o=>{const{drag:a,dragListener:c=!0}=this.getProps();a&&c&&this.start(o)}),n=()=>{const{dragConstraints:o}=this.getProps();_(o)&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",n);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),n();const s=zt(window,"resize",()=>this.scalePositionWithinConstraints()),r=l.addEventListener("didUpdate",({delta:o,hasLayoutChanged:a})=>{this.isDragging&&a&&(k(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=o[c].translate,h.set(h.get()+o[c].translate))}),this.visualElement.render())});return()=>{s(),i(),u(),r&&r()}}getProps(){const e=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:n=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:s=ot,dragMomentum:r=!0}=e;return{...e,drag:i,dragDirectionLock:n,dragPropagation:l,dragConstraints:u,dragElastic:s,dragMomentum:r}}}function X(t,e,i){return(e===!0||e===t)&&(i===null||i===t)}function Ke(t,e=10){let i=null;return Math.abs(t.y)>e?i="y":Math.abs(t.x)>e&&(i="x"),i}class Ze extends Ht{constructor(e){super(e),this.removeGroupControls=O,this.removeListeners=O,this.controls=new qe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||O}unmount(){this.removeGroupControls(),this.removeListeners()}}const Pt=t=>(e,i)=>{t&&L.update(()=>t(e,i))};class Je extends Ht{constructor(){super(...arguments),this.removePointerDownListener=O}onPointerDown(e){this.session=new Zt(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:i,onPan:n,onPanEnd:l}=this.node.getProps();return{onSessionStart:Pt(e),onStart:Pt(i),onMove:n,onEnd:(u,s)=>{delete this.session,l&&L.update(()=>l(u,s))}}}mount(){this.removePointerDownListener=F(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Qe(){const t=f.useContext(_t);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:n}=t,l=f.useId();return f.useEffect(()=>n(l),[]),!e&&i?[!1,()=>i&&i(l)]:[!0]}function Tt(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const I={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Wt.test(t))t=parseFloat(t);else return t;const i=Tt(t,e.target.x),n=Tt(t,e.target.y);return`${i}% ${n}%`}},St="_$css",ti={correct:(t,{treeScale:e,projectionDelta:i})=>{const n=t,l=t.includes("var("),u=[];l&&(t=t.replace(Pe,m=>(u.push(m),St)));const s=at.parse(t);if(s.length>5)return n;const r=at.createTransformer(t),o=typeof s[0]!="number"?1:0,a=i.x.scale*e.x,c=i.y.scale*e.y;s[0+o]/=a,s[1+o]/=c;const h=P(a,c,.5);typeof s[2+o]=="number"&&(s[2+o]/=h),typeof s[3+o]=="number"&&(s[3+o]/=h);let d=r(s);if(l){let m=0;d=d.replace(St,()=>{const g=u[m];return m++,g})}return d}};class ei extends q.Component{componentDidMount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:n,layoutId:l}=this.props,{projection:u}=e;Te(ii),u&&(i.group&&i.group.add(u),n&&n.register&&l&&n.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Y.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:i,visualElement:n,drag:l,isPresent:u}=this.props,s=n.projection;return s&&(s.isPresent=u,l||e.layoutDependency!==i||i===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?s.promote():s.relegate()||L.postRender(()=>{const r=s.getStack();(!r||!r.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:n}=this.props,{projection:l}=e;l&&(l.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(l),n&&n.deregister&&n.deregister(l))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Qt(t){const[e,i]=Qe(),n=f.useContext(Xt);return q.createElement(ei,{...t,layoutGroup:n,switchLayoutGroup:f.useContext(Se),isPresent:e,safeToRemove:i})}const ii={borderRadius:{...I,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:I,borderTopRightRadius:I,borderBottomLeftRadius:I,borderBottomRightRadius:I,boxShadow:ti},te=["TopLeft","TopRight","BottomLeft","BottomRight"],si=te.length,Dt=t=>typeof t=="string"?parseFloat(t):t,Et=t=>typeof t=="number"||Wt.test(t);function ni(t,e,i,n,l,u){l?(t.opacity=P(0,i.opacity!==void 0?i.opacity:1,oi(n)),t.opacityExit=P(e.opacity!==void 0?e.opacity:1,0,ri(n))):u&&(t.opacity=P(e.opacity!==void 0?e.opacity:1,i.opacity!==void 0?i.opacity:1,n));for(let s=0;s<si;s++){const r=`border${te[s]}Radius`;let o=Rt(e,r),a=Rt(i,r);if(o===void 0&&a===void 0)continue;o||(o=0),a||(a=0),o===0||a===0||Et(o)===Et(a)?(t[r]=Math.max(P(Dt(o),Dt(a),n),0),(K.test(a)||K.test(o))&&(t[r]+="%")):t[r]=a}(e.rotate||i.rotate)&&(t.rotate=P(e.rotate||0,i.rotate||0,n))}function Rt(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const oi=ee(0,.5,De),ri=ee(.5,.95,O);function ee(t,e,i){return n=>n<t?0:n>e?1:i(st(t,e,n))}function Lt(t,e){t.min=e.min,t.max=e.max}function R(t,e){Lt(t.x,e.x),Lt(t.y,e.y)}function kt(t,e,i,n,l){return t-=e,t=lt(t,1/i,n),l!==void 0&&(t=lt(t,1/l,n)),t}function ai(t,e=0,i=1,n=.5,l,u=t,s=t){if(K.test(e)&&(e=parseFloat(e),e=P(s.min,s.max,e/100)-s.min),typeof e!="number")return;let r=P(u.min,u.max,n);t===u&&(r-=e),t.min=kt(t.min,e,i,r,l),t.max=kt(t.max,e,i,r,l)}function Ct(t,e,[i,n,l],u,s){ai(t,e[i],e[n],e[l],e.scale,u,s)}const li=["x","scaleX","originX"],ci=["y","scaleY","originY"];function wt(t,e,i,n){Ct(t.x,e,li,i?i.x:void 0,n?n.x:void 0),Ct(t.y,e,ci,i?i.y:void 0,n?n.y:void 0)}function jt(t){return t.translate===0&&t.scale===1}function ie(t){return jt(t.x)&&jt(t.y)}function rt(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function Bt(t){return E(t.x)/E(t.y)}class ui{constructor(){this.members=[]}add(e){Yt(this.members,e),e.scheduleRender()}remove(e){if(qt(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(e){const i=this.members.findIndex(l=>e===l);if(i===0)return!1;let n;for(let l=i;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){n=u;break}}return n?(this.promote(n),!0):!1}promote(e,i){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,i&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:l}=e.options;l===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:i,resumingFrom:n}=e;i.onExitComplete&&i.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bt(t,e,i){let n="";const l=t.x.translate/e.x,u=t.y.translate/e.y;if((l||u)&&(n=`translate3d(${l}px, ${u}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),i){const{rotate:o,rotateX:a,rotateY:c}=i;o&&(n+=`rotate(${o}deg) `),a&&(n+=`rotateX(${a}deg) `),c&&(n+=`rotateY(${c}deg) `)}const s=t.x.scale*e.x,r=t.y.scale*e.y;return(s!==1||r!==1)&&(n+=`scale(${s}, ${r})`),n||"none"}const hi=(t,e)=>t.depth-e.depth;class di{constructor(){this.children=[],this.isDirty=!1}add(e){Yt(this.children,e),this.isDirty=!0}remove(e){qt(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(hi),this.isDirty=!1,this.children.forEach(e)}}function mi(t,e){const i=performance.now(),n=({timestamp:l})=>{const u=l-i;u>=e&&(H.read(n),t(u-e))};return L.read(n,!0),()=>H.read(n)}function fi(t){window.MotionDebug&&window.MotionDebug.record(t)}function pi(t){return t instanceof SVGElement&&t.tagName!=="svg"}function gi(t,e,i){const n=Ee(t)?t:Re(t);return n.start($t("",n,e,i)),n.animation}const Vt=["","X","Y","Z"],At=1e3;let yi=0;const j={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function se({attachResizeListener:t,defaultParent:e,measureScroll:i,checkIsScrollRoot:n,resetTransform:l}){return class{constructor(s,r={},o=e==null?void 0:e()){this.id=yi++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{j.totalNodes=j.resolvedTargetDeltas=j.recalculatedProjection=0,this.nodes.forEach(Pi),this.nodes.forEach(Ei),this.nodes.forEach(Ri),this.nodes.forEach(Ti),fi(j)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=s,this.latestValues=r,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0,s&&this.root.registerPotentialNode(s,this);for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new di)}addEventListener(s,r){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Le),this.eventHandlers.get(s).add(r)}notifyListeners(s,...r){const o=this.eventHandlers.get(s);o&&o.notify(...r)}hasListeners(s){return this.eventHandlers.has(s)}registerPotentialNode(s,r){this.potentialNodes.set(s,r)}mount(s,r=!1){if(this.instance)return;this.isSVG=pi(s),this.instance=s;const{layoutId:o,layout:a,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),r&&(a||o)&&(this.isLayoutDirty=!0),t){let h;const d=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=mi(d,250),Y.hasAnimatedSinceResize&&(Y.hasAnimatedSinceResize=!1,this.nodes.forEach(Nt))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||a)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||ji,{onLayoutAnimationStart:T,onLayoutAnimationComplete:S}=c.getProps(),C=!this.targetLayout||!rt(this.targetLayout,g)||m,y=!d&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||d&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const x={...ke(p,"layout"),onPlay:T,onComplete:S};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else!d&&this.animationProgress===0&&Nt(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,H.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Li),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:r,layout:o}=this.options;if(r===void 0&&!o)return;const a=this.getTransformTemplate();this.prevTransformTemplateValue=a?a(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Mt);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Bi),this.potentialNodes.clear()),this.nodes.forEach(Di),this.nodes.forEach(xi),this.nodes.forEach(vi),this.clearAllSnapshots(),Z.update(),Z.preRender(),Z.render())}clearAllSnapshots(){this.nodes.forEach(Si),this.sharedNodes.forEach(ki)}scheduleUpdateProjection(){L.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){L.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let o=0;o<this.path.length;o++)this.path[o].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=v(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:r}=this.options;r&&r.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let r=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(r=!1),r&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:n(this.instance),offset:i(this.instance)})}resetTransform(){if(!l)return;const s=this.isLayoutDirty||this.shouldResetTransform,r=this.projectionDelta&&!ie(this.projectionDelta),o=this.getTransformTemplate(),a=o?o(this.latestValues,""):void 0,c=a!==this.prevTransformTemplateValue;s&&(r||b(this.latestValues)||c)&&(l(this.instance,a),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const r=this.measurePageBox();let o=this.removeElementScroll(r);return s&&(o=this.removeTransform(o)),bi(o),{animationId:this.root.animationId,measuredBox:r,layoutBox:o,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return v();const r=s.measureViewportBox(),{scroll:o}=this.root;return o&&(V(r.x,o.offset.x),V(r.y,o.offset.y)),r}removeElementScroll(s){const r=v();R(r,s);for(let o=0;o<this.path.length;o++){const a=this.path[o],{scroll:c,options:h}=a;if(a!==this.root&&c&&h.layoutScroll){if(c.isRoot){R(r,s);const{scroll:d}=this.root;d&&(V(r.x,-d.offset.x),V(r.y,-d.offset.y))}V(r.x,c.offset.x),V(r.y,c.offset.y)}}return r}applyTransform(s,r=!1){const o=v();R(o,s);for(let a=0;a<this.path.length;a++){const c=this.path[a];!r&&c.options.layoutScroll&&c.scroll&&c!==c.root&&W(o,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),b(c.latestValues)&&W(o,c.latestValues)}return b(this.latestValues)&&W(o,this.latestValues),o}removeTransform(s){const r=v();R(r,s);for(let o=0;o<this.path.length;o++){const a=this.path[o];if(!a.instance||!b(a.latestValues))continue;ct(a.latestValues)&&a.updateSnapshot();const c=v(),h=a.measurePageBox();R(c,h),wt(r,a.latestValues,a.snapshot?a.snapshot.layoutBox:void 0,c)}return b(this.latestValues)&&wt(r,this.latestValues),r}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(s=!1){var r;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const a=!!this.resumingFrom||this!==o;if(!(s||a&&this.isSharedProjectionDirty||this.isProjectionDirty||!((r=this.parent)===null||r===void 0)&&r.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=U.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout?(this.relativeParent=m,this.relativeTarget=v(),this.relativeTargetOrigin=v(),z(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),R(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=v(),this.targetWithTransforms=v()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.relativeParent.resolvedRelativeTargetAt!==U.timestamp&&this.relativeParent.resolveTargetDelta(!0),Ge(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):R(this.target,this.layout.layoutBox),Ce(this.target,this.targetDelta)):R(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target?(this.relativeParent=m,this.relativeTarget=v(),this.relativeTargetOrigin=v(),z(this.relativeTargetOrigin,this.target,m.target),R(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}j.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ct(this.parent.latestValues)||we(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const r=this.getLead(),o=!!this.resumingFrom||this!==r;let a=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(a=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(a=!1),this.resolvedRelativeTargetAt===U.timestamp&&(a=!1),a)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;R(this.layoutCorrected,this.layout.layoutBox),je(this.layoutCorrected,this.treeScale,this.path,o);const{target:d}=r;if(!d)return;this.projectionDelta||(this.projectionDelta=G(),this.projectionDeltaWithTransform=G());const m=this.treeScale.x,g=this.treeScale.y,p=this.projectionTransform;$(this.projectionDelta,this.layoutCorrected,d,this.latestValues),this.projectionTransform=bt(this.projectionDelta,this.treeScale),(this.projectionTransform!==p||this.treeScale.x!==m||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d)),j.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const r=this.getStack();r&&r.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,r=!1){const o=this.snapshot,a=o?o.latestValues:{},c={...this.latestValues},h=G();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!r;const d=v(),m=o?o.source:void 0,g=this.layout?this.layout.source:void 0,p=m!==g,T=this.getStack(),S=!T||T.members.length<=1,C=!!(p&&!S&&this.options.crossfade===!0&&!this.path.some(wi));this.animationProgress=0;let y;this.mixTargetDelta=x=>{const w=x/1e3;It(h.x,s.x,w),It(h.y,s.y,w),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(z(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ci(this.relativeTarget,this.relativeTargetOrigin,d,w),y&&rt(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=v()),R(y,this.relativeTarget)),p&&(this.animationValues=c,ni(c,a,this.latestValues,w,C,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(H.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=L.update(()=>{Y.hasAnimatedSinceResize=!0,this.currentAnimation=gi(0,At,{...s,onUpdate:r=>{this.mixTargetDelta(r),s.onUpdate&&s.onUpdate(r)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(At),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:r,target:o,layout:a,latestValues:c}=s;if(!(!r||!o||!a)){if(this!==s&&this.layout&&a&&ne(this.options.animationType,this.layout.layoutBox,a.layoutBox)){o=this.target||v();const h=E(this.layout.layoutBox.x);o.x.min=s.target.x.min,o.x.max=o.x.min+h;const d=E(this.layout.layoutBox.y);o.y.min=s.target.y.min,o.y.max=o.y.min+d}R(r,o),W(r,c),$(this.projectionDeltaWithTransform,this.layoutCorrected,r,c)}}registerSharedNode(s,r){this.sharedNodes.has(s)||this.sharedNodes.set(s,new ui),this.sharedNodes.get(s).add(r);const a=r.options.initialPromotionConfig;r.promote({transition:a?a.transition:void 0,preserveFollowOpacity:a&&a.shouldPreserveFollowOpacity?a.shouldPreserveFollowOpacity(r):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:r}=this.options;return r?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:r}=this.options;return r?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:r,preserveFollowOpacity:o}={}){const a=this.getStack();a&&a.promote(this,o),s&&(this.projectionDelta=void 0,this.needsReset=!0),r&&this.setOptions({transition:r})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let r=!1;const{latestValues:o}=s;if((o.rotate||o.rotateX||o.rotateY||o.rotateZ)&&(r=!0),!r)return;const a={};for(let c=0;c<Vt.length;c++){const h="rotate"+Vt[c];o[h]&&(a[h]=o[h],s.setStaticValue(h,0))}s.render();for(const c in a)s.setStaticValue(c,a[c]);s.scheduleRender()}getProjectionStyles(s={}){var r,o;const a={};if(!this.instance||this.isSVG)return a;if(this.isVisible)a.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=J(s.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none",a;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=J(s.pointerEvents)||""),this.hasProjected&&!b(this.latestValues)&&(p.transform=c?c({},""):"none",this.hasProjected=!1),p}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),a.transform=bt(this.projectionDeltaWithTransform,this.treeScale,d),c&&(a.transform=c(d,a.transform));const{x:m,y:g}=this.projectionDelta;a.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,h.animationValues?a.opacity=h===this?(o=(r=d.opacity)!==null&&r!==void 0?r:this.latestValues.opacity)!==null&&o!==void 0?o:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const p in ut){if(d[p]===void 0)continue;const{correct:T,applyTo:S}=ut[p],C=a.transform==="none"?d[p]:T(d[p],h);if(S){const y=S.length;for(let x=0;x<y;x++)a[S[x]]=C}else a[p]=C}return this.options.layoutId&&(a.pointerEvents=h===this?J(s.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var r;return(r=s.currentAnimation)===null||r===void 0?void 0:r.stop()}),this.root.nodes.forEach(Mt),this.root.sharedNodes.clear()}}}function xi(t){t.updateLayout()}function vi(t){var e;const i=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&i&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:l}=t.layout,{animationType:u}=t.options,s=i.source!==t.layout.source;u==="size"?k(h=>{const d=s?i.measuredBox[h]:i.layoutBox[h],m=E(d);d.min=n[h].min,d.max=d.min+m}):ne(u,i.layoutBox,n)&&k(h=>{const d=s?i.measuredBox[h]:i.layoutBox[h],m=E(n[h]);d.max=d.min+m});const r=G();$(r,n,i.layoutBox);const o=G();s?$(o,t.applyTransform(l,!0),i.measuredBox):$(o,n,i.layoutBox);const a=!ie(r);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:m}=h;if(d&&m){const g=v();z(g,i.layoutBox,d.layoutBox);const p=v();z(p,n,m.layoutBox),rt(g,p)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=p,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:i,delta:o,layoutDelta:r,hasLayoutChanged:a,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Pi(t){j.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Ti(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Si(t){t.clearSnapshot()}function Mt(t){t.clearMeasurements()}function Di(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Nt(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function Ei(t){t.resolveTargetDelta()}function Ri(t){t.calcProjection()}function Li(t){t.resetRotation()}function ki(t){t.removeLeadSnapshot()}function It(t,e,i){t.translate=P(e.translate,0,i),t.scale=P(e.scale,1,i),t.origin=e.origin,t.originPoint=e.originPoint}function Ft(t,e,i,n){t.min=P(e.min,i.min,n),t.max=P(e.max,i.max,n)}function Ci(t,e,i,n){Ft(t.x,e.x,i.x,n),Ft(t.y,e.y,i.y,n)}function wi(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ji={duration:.45,ease:[.4,0,.1,1]};function Bi(t,e){let i=t.root;for(let u=t.path.length-1;u>=0;u--)if(t.path[u].instance){i=t.path[u];break}const l=(i&&i!==t.root?i.instance:document).querySelector(`[data-projection-id="${e}"]`);l&&t.mount(l,!0)}function Ut(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function bi(t){Ut(t.x),Ut(t.y)}function ne(t,e,i){return t==="position"||t==="preserve-aspect"&&!nt(Bt(e),Bt(i),.2)}const Vi=se({attachResizeListener:(t,e)=>zt(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),et={current:void 0},oe=se({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!et.current){const t=new Vi(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),et.current=t}return et.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ai={pan:{Feature:Je},drag:{Feature:Ze,ProjectionNode:oe,MeasureLayout:Qt}},Mi={layout:{ProjectionNode:oe,MeasureLayout:Qt}},Ni={...Ae,...Me,...Ai,...Mi},B=Be((t,e)=>be(t,e,Ni,Ve));function re(){const t=f.useRef(!1);return Kt(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Ii(){const t=re(),[e,i]=f.useState(0),n=f.useCallback(()=>{t.current&&i(e+1)},[e]);return[f.useCallback(()=>L.postRender(n),[n]),e]}class Fi extends f.Component{getSnapshotBeforeUpdate(e){const i=this.props.childRef.current;if(i&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=i.offsetHeight||0,n.width=i.offsetWidth||0,n.top=i.offsetTop,n.left=i.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Ui({children:t,isPresent:e}){const i=f.useId(),n=f.useRef(null),l=f.useRef({width:0,height:0,top:0,left:0});return f.useInsertionEffect(()=>{const{width:u,height:s,top:r,left:o}=l.current;if(e||!n.current||!u||!s)return;n.current.dataset.motionPopId=i;const a=document.createElement("style");return document.head.appendChild(a),a.sheet&&a.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${s}px !important;
            top: ${r}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(a)}},[e]),f.createElement(Fi,{isPresent:e,childRef:n,sizeRef:l},f.cloneElement(t,{ref:n}))}const it=({children:t,initial:e,isPresent:i,onExitComplete:n,custom:l,presenceAffectsLayout:u,mode:s})=>{const r=Ne(Oi),o=f.useId(),a=f.useMemo(()=>({id:o,initial:e,isPresent:i,custom:l,onExitComplete:c=>{r.set(c,!0);for(const h of r.values())if(!h)return;n&&n()},register:c=>(r.set(c,!1),()=>r.delete(c))}),u?void 0:[i]);return f.useMemo(()=>{r.forEach((c,h)=>r.set(h,!1))},[i]),f.useEffect(()=>{!i&&!r.size&&n&&n()},[i]),s==="popLayout"&&(t=f.createElement(Ui,{isPresent:i},t)),f.createElement(_t.Provider,{value:a},t)};function Oi(){return new Map}function Gi(t){return f.useEffect(()=>()=>t(),[])}const M=t=>t.key||"";function $i(t,e){t.forEach(i=>{const n=M(i);e.set(n,i)})}function zi(t){const e=[];return f.Children.forEach(t,i=>{f.isValidElement(i)&&e.push(i)}),e}const ae=({children:t,custom:e,initial:i=!0,onExitComplete:n,exitBeforeEnter:l,presenceAffectsLayout:u=!0,mode:s="sync"})=>{let[r]=Ii();const o=f.useContext(Xt).forceRender;o&&(r=o);const a=re(),c=zi(t);let h=c;const d=new Set,m=f.useRef(h),g=f.useRef(new Map).current,p=f.useRef(!0);if(Kt(()=>{p.current=!1,$i(c,g),m.current=h}),Gi(()=>{p.current=!0,g.clear(),d.clear()}),p.current)return f.createElement(f.Fragment,null,h.map(y=>f.createElement(it,{key:M(y),isPresent:!0,initial:i?void 0:!1,presenceAffectsLayout:u,mode:s},y)));h=[...h];const T=m.current.map(M),S=c.map(M),C=T.length;for(let y=0;y<C;y++){const x=T[y];S.indexOf(x)===-1&&d.add(x)}return s==="wait"&&d.size&&(h=[]),d.forEach(y=>{if(S.indexOf(y)!==-1)return;const x=g.get(y);if(!x)return;const w=T.indexOf(y),le=()=>{g.delete(y),d.delete(y);const ce=m.current.findIndex(ue=>ue.key===y);if(m.current.splice(ce,1),!d.size){if(m.current=c,a.current===!1)return;r(),n&&n()}};h.splice(w,0,f.createElement(it,{key:M(x),isPresent:!1,onExitComplete:le,custom:e,presenceAffectsLayout:u,mode:s},x))}),h=h.map(y=>{const x=y.key;return d.has(x)?y:f.createElement(it,{key:M(y),isPresent:!0,presenceAffectsLayout:u,mode:s},y)}),f.createElement(f.Fragment,null,d.size?h:h.map(y=>f.cloneElement(y)))},Ot=({ItemName:t,ItemImg:e,mx:i,xlw:n,lgw:l,xlmx2:u,lgmx2:s,l:r="l"})=>{const o={hidden:{opacity:0,scale:.1,x:50},visible:{opacity:1,scale:1,x:0,transition:{delay:.5}}},a={hidden:{opacity:0,scale:1.2},visible:{opacity:1,scale:1,transition:{duration:.5}}};return D(ae,{children:N(B.div,{initial:"hidden",whileInView:"visible",viewport:{amount:.9},className:"lg:flex lg:py-0 py-1",children:[r==="l"?N(B.div,{variants:a,className:" flex lg:justify-start justify-center px-5 lg:text-4xl items-center lg:w-[300px] lg:h-28 bg-[#7F00FD] rounded-xl",children:[D("img",{loading:"lazy",className:"px-5",width:"80",height:"80",src:`/img/${e}`,alt:"Иконки навыков"}),D("p",{children:t})]}):N(B.div,{variants:a,className:" flex lg:justify-start justify-center px-5 lg:text-4xl items-center lg:w-[300px] lg:h-28 bg-[#7F00FD] rounded-xl",children:[D("p",{children:t}),D("img",{loading:"lazy",className:"px-5",width:"80",height:"80",src:`/img/${e}`,alt:"Иконки навыков"})]}),D(B.span,{variants:o,className:` hidden tall:hidden  ${i} my-12    z-10   lg:block   bg-white border-2 lg:after:  absolute  ${l}`}),D(B.span,{variants:a,className:` hidden tall:hidden absolute w-[20px] z-10 lg:block  ${s} my-10 h-[20px]    bg-white border-8 rounded-xl`})]})})},A=[{id:1,NameSkill:"Frontend",skillsL:[{id:1,NameSkill:"Html",ImgSkill:"icon-Html.svg",mx:"mx-[300px]",lgw:"lg:w-[90px]",lgmx2:"lg:mx-[390px]"},{id:2,NameSkill:"Css",ImgSkill:"icon-Css.svg",mx:"mx-[300px]",lgw:"lg:w-[35px]",lgmx2:"lg:mx-[330px]"},{id:3,NameSkill:"Js",ImgSkill:"icon-Js.svg",mx:"mx-[300px]",lgw:"lg:w-[90px]",lgmx2:"lg:mx-[390px]"}],skillsR:[{id:1,NameSkill:"Vue",ImgSkill:"icon-Vue.svg",mx:"-mx-[80px]",lgw:"lg:w-[80px]",lgmx2:"lg:-mx-[100px]",l:"r"},{id:2,NameSkill:"React",ImgSkill:"icon-React.svg",mx:"-mx-[35px]",lgw:"lg:w-[35px]",lgmx2:"lg:-mx-[50px]",l:"r"},{id:3,NameSkill:"Type Script",ImgSkill:"icon-Typescript.svg",mx:"-mx-[80px]",lgw:"lg:w-[80px]",lgmx2:"lg:-mx-[100px]",l:"r"}]},{id:2,NameSkill:"Backend",skillsL:[{id:1,NameSkill:"NodeJs",ImgSkill:"icon-nodejs.svg",mx:"mx-[300px]",lgw:"lg:w-[60px]",lgmx2:"lg:mx-[350px]"},{id:2,NameSkill:"Php",ImgSkill:"icon-php.svg",mx:"mx-[300px]",lgw:"lg:w-[60px]",lgmx2:"lg:mx-[350px]"}],skillsR:[{id:1,NameSkill:"MySql",ImgSkill:"icon-sql.svg",mx:"-mx-[70px]",lgw:"lg:w-[70px]",lgmx2:"lg:-mx-[70px]",l:"r"},{id:2,NameSkill:"MongoDb",ImgSkill:"icon-bd.svg",mx:"-mx-[70px]",lgw:"lg:w-[70px]",lgmx2:"lg:-mx-[70px]",l:"r"}]}],Xi=()=>{const t={hidden:{rotate:360,scale:.2},visible:{rotate:0,scale:1,transition:{duration:.5}}},e={hidden:{opacity:0,scale:.6},visible:{opacity:1,scale:1,transition:{duration:.2}}},[i,n]=q.useState(0),[l,u]=q.useState(1),{t:s}=Ie();function r(o){i!=o.length-1?(n(i+1),u(2)):(n(0),u(1))}return N(B.div,{initial:"hidden",whileInView:"visible",viewport:{amount:.9},variants:e,className:" h-full    text-white overflow-x-hidden",children:[D("h2",{className:" font-black   xl:text-6xl lg:text-5xl lg:px-[38%] text-center text-2xl font-rubik lg:py-16 py-5 ",children:s("Skills")}),N("div",{className:" flex justify-center lg:flex-row   flex-col font-rubik",children:[N("button",{onClick:()=>r(A),className:"lg:hidden tall:block  ",children:[A[i].NameSkill," »"]}),D("div",{className:" flex flex-col  justify-around  px-10",children:A[i].skillsL.map(o=>D(Ot,{ItemName:o.NameSkill,ItemImg:o.ImgSkill,mx:o.mx,lgw:o.lgw,lgmx2:o.lgmx2,xlw:void 0,xlmx2:void 0},o.id))},l),D(ae,{children:D(B.div,{onClick:()=>r(A),initial:"hidden",whileInView:"visible",whileTap:{opacity:[1,.5,0],rotate:[360,0]},viewport:{amount:.1},variants:t,className:"hidden tall:hidden  lg:flex justify-center cursor-none  items-center  lg:text-6xl hover:lg:text-7xl lg:w-[380px] lg:h-[380px]   w-[220px] h-[220px] border-8 border-[#9C12B0] rounded-full shadow-[inset_0px_0px_50px_8px] shadow-[#9C12B0] opacity-95 bg-blend-lighten",children:A[i].NameSkill})}),D("div",{className:" flex flex-col justify-around px-10",children:A[i].skillsR.map(o=>D(Ot,{ItemName:o.NameSkill,ItemImg:o.ImgSkill,mx:o.mx,lgw:o.lgw,lgmx2:o.lgmx2,l:o.l,xlw:void 0,xlmx2:void 0},o.id))},l+2)]})]})};export{Xi as default};
